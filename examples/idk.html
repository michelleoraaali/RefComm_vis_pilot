<!doctype html>
<html>

<head>
  <script src="../jspsych.js"></script>
  <script src="../plugins/jspsych-html-keyboard-response.js"></script>
  <script src="../plugins/jspsych-image-keyboard-response.js"></script>
  <script src="../plugins/jspsych-survey-text.js"></script>
  <script src="../plugins/jspsych-survey-multi-choice.js"></script>
  <script src="../plugins/jspsych-categorize-image.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script src="../plugins/jspsych-call-function.js"></script>
  <link rel="stylesheet" href="../css/jspsych.css"></link>
</head>

  <style>

img {
   display: block;
   margin: auto;
   max-height: 80vh;
   width: auto;
   position: absolute;
   top: 50%;
   left: 75%;
   transform: translate(-50%, -50%);
}

  </style>

<body>
</body>
<script>


//EXPERIMENT & SUBJECT ID

var name = "ERPpilot"

//BROWSER CHECK
/*
function getBrowserInfo() 
{ 
        var ua = navigator.userAgent, tem, 
        M = ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i) || []; 
        if(/trident/i.test(M[1])) 
        { 
                tem=  /\brv[ :]+(\d+)/g.exec(ua) || []; 
                return 'IE '+(tem[1] || ''); 
        } 
        if(M[1]=== 'Chrome') 
        { 
                tem= ua.match(/\b(OPR|Edge)\/(\d+)/); 
                if(tem!= null) return tem.slice(1).join(' ').replace('OPR', 'Opera'); 
        } 
        M = M[2]? [M[1], M[2]]: [navigator.appName, navigator.appVersion, '-?']; 
        if((tem= ua.match(/version\/(\d+)/i))!= null) 
                M.splice(1, 1, tem[1]); 
        return { 'browser': M[0], 'version': M[1] }; 
} 

var browserInfo = getBrowserInfo(); 
if(browserInfo.browser !== 'Chrome' && browserInfo.browser !== 'Firefox' && browserInfo.browser !== 'Safari') 
{ 
        var wrong_browser = 
        { 
                type: 'text', 
                text: '<p>Sorry, this experiment only has support for Chrome, Firefox, and Safari.</p>' 
                         +'<p>Please reopen the experiment in one of these browsers.</p>', 
        }; 
        jsPsych.init({ 
                timeline: [wrong_browser], 
        }); 
} 
*/




//EXPERIMENT SETUP

var ERPpilot_len = 1

var ERPpilot_items = [
{preamble: '<img src="img/yellow_leather_boot.png"></img>'},

]

var ERPpilot_items = jsPsych.randomization.repeat(ERPpilot_items, 1, true)



//EXPERIMENT BLOCKS

timeline = []


var questions = ["Chinese name", "English name"]


  var ERPpilot_p1 = {
    type: 'survey-text',
    preamble: ERPpilot_items.preamble[],
    questions: questions}
  timeline.push(ERPpilot_p1)


/*//IMAGE ARRAY FOR PRELOADING

var images = [
'img/yellow_leather_boot.png',

];

// PRELOAD FUNCTION

jsPsych.pluginAPI.preloadImages(images, function(){ startExperiment(); }, function(nLoaded) { updateLoadedCount(nLoaded); });

function updateLoadedCount(nLoaded){
    var percentcomplete = Math.round(nLoaded / images.length * 100);
    var percentcomplete_string = String('Loading '+percentcomplete+'% complete'); 
    // DISPLAY LOADING %
    if (percentcomplete <100)
      {document.getElementById("loading").innerHTML = percentcomplete_string}
    else {$("#loading").remove()}
}*/

// START EXPERIMENT FUNCTION

function startExperiment(){

jsPsych.init({
        display_element: $('#jspsych-target'),
        timeline: timeline,
        on_finish: function() { jsPsych.data.displayData(); }
    });
    
}

</script>

</html>